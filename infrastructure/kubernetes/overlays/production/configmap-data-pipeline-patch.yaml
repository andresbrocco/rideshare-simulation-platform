apiVersion: v1
kind: ConfigMap
metadata:
  name: data-pipeline-config
data:
  # AWS region (kept explicit for production)
  AWS_REGION: "us-east-1"

  # RDS connection strings (replace rideshare-postgres.c8zsec64gwhw.us-east-1.rds.amazonaws.com with Terraform output during deploy)
  AIRFLOW__DATABASE__SQL_ALCHEMY_CONN: "postgresql+psycopg2://airflow:CHANGEME@rideshare-postgres.c8zsec64gwhw.us-east-1.rds.amazonaws.com:5432/airflow"
  HIVE_METASTORE_DB_URL: "jdbc:postgresql://rideshare-postgres.c8zsec64gwhw.us-east-1.rds.amazonaws.com:5432/metastore"

  # RDS hosts replace in-cluster postgres (replace rideshare-postgres.c8zsec64gwhw.us-east-1.rds.amazonaws.com during deploy)
  AIRFLOW_POSTGRES_HOST: "rideshare-postgres.c8zsec64gwhw.us-east-1.rds.amazonaws.com"
  POSTGRES_METASTORE_HOST: "rideshare-postgres.c8zsec64gwhw.us-east-1.rds.amazonaws.com"

  # S3 bucket for bronze layer (replaces MinIO)
  # Replace 962393283188 with actual AWS account ID during deploy
  BRONZE_BUCKET: "rideshare-962393283188-bronze"

  # Remove MinIO/LocalStack references by setting empty values
  # Deploy workflow should use ConfigMap generator for final values
  MINIO_ENDPOINT: ""
  LOCALSTACK_ENDPOINT: ""
